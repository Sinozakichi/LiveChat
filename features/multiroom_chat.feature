@multiroom_chat
Feature: 多聊天室功能
  作為一個使用者
  我希望能夠選擇並進入不同的聊天室
  以便能夠在不同的主題或群組中進行交流

  Scenario: 使用者查看可用的聊天室列表
    Given 系統中有5個預設聊天室
    When 使用者訪問聊天室列表頁面
    Then 使用者應該看到5個聊天室的列表
    And 每個聊天室應顯示名稱和簡短描述

  Scenario: 使用者選擇並進入特定聊天室
    Given 使用者正在查看聊天室列表
    When 使用者點擊"聊天室1"
    Then 使用者應該被導向到"聊天室1"的聊天界面
    And 使用者應該看到"聊天室1"的歡迎訊息

  Scenario: 使用者在特定聊天室發送訊息
    Given 使用者A和使用者B都在"聊天室1"
    And 使用者C在"聊天室2"
    When 使用者A在"聊天室1"發送訊息"大家好"
    Then 使用者B應該在"聊天室1"看到訊息"大家好"
    But 使用者C不應該在"聊天室2"看到該訊息

  Scenario: 使用者從一個聊天室切換到另一個聊天室
    Given 使用者已經在"聊天室1"
    When 使用者點擊返回按鈕
    And 使用者從列表中選擇"聊天室2"
    Then 使用者應該進入"聊天室2"
    And 使用者應該看到"聊天室2"的歷史訊息
    And 使用者不應該再收到"聊天室1"的新訊息

  Scenario: 使用者加入聊天室時通知其他用戶
    Given 使用者A已經在"聊天室1"
    When 使用者B加入"聊天室1"
    Then 使用者A應該看到系統通知"使用者B已加入聊天室"

  Scenario: 使用者離開聊天室時通知其他用戶
    Given 使用者A和使用者B都在"聊天室1"
    When 使用者B離開"聊天室1"
    Then 使用者A應該看到系統通知"使用者B已離開聊天室"

  Scenario: 顯示聊天室當前在線用戶數
    Given 聊天室列表頁面
    When 3個使用者加入"聊天室1"
    And 2個使用者加入"聊天室2"
    Then "聊天室1"應顯示"3人在線"
    And "聊天室2"應顯示"2人在線"
